var addDialog = function(target){
	
	target.commandStates.TALKING = 128;

	this.speakTo = function(player){
		target.setStateFlag( player, target.commandStates.TALKING, true );
	}

	this.stopSpeakingTo = function(player){
		target.setStateFlag( player, target.commandStates.TALKING, false );
	}

	target.addCommand( 'talk to '+target.name, target.speakTo, target.commandStates.SEEN | target.commandStates.VICINITY, target.commandStates.TALKING );
	target.addCommand( 'stop talking to '+target.name, target.stopSpeakingTo, target.commandStates.SEEN | target.commandStates.VICINITY, target.commandStates.PICKUP );

};

module.exports = addDialog;