var makeCommonObject = require('./commonobject');
var makeWatchable = require('./watchable');

var Television = function(properties){
	var intervalId;
	var index = 0;
	var item = this;
	

	this.text = [
			'"hissssssssss"',
			'"crackle"'
	];

	this.description = 'an old worn looking television';
	this.name = 'television';

	makeCommonObject( this, properties );
	makeWatchable( this );

	var update = function(){

		item.watchSignal.dispatch( '['+item.name+'] '+this.text[index] );

		index+=1;
		if( index >= this.text.length ) index = 0;
	};

	intervalId = setInterval( update, 2000 );
}

module.exports = Television;